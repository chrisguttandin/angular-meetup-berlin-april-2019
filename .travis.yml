addons:
  chrome: stable
before_install: npm install npm@latest --global
cache:
  directories:
    - $HOME/.npm
dist: xenial
env:
  global:
    - secure: mEjjWzI0F4etiUh3YWi7JvK1Oj5S6ATSaVh1jeaSKqcb+g3hPrRyJYGBnAYbJHDJV8psjNbiW0aEJcB1ixFfv4uOyOU57oaSlf4BIbIoH9+ABTTjEBu87kZlytVPWGvY+RFvsjbDxHm6XeTwuB5FTr8kMbadcEvdnQZq9ih27X3GrvjUlizAiFcuiJuGfrLhcDjUwz/juG9AzY5VrzfA4V+nxinNcI6RyVc6YnSZLmAE7VZUDWqyzaTGWx+oAojuww/KGdhJo3wooNjj4pTXjWQtLXv9dIueZwTz9SSuH6lGIvusfrNCn8QfVmQztskQoAVn1fqvqS3PEdrktRNzVYiXXqhCozxGRmfWOb8RtrKhaEh66ge9WSUkyqLWGZuyPRy33aFdV6ACG4v5qSXrHefpvB5ICY6qo+H+0kSWcKnhgO+l9rPOAtuP3IcM5YRZtEL7WHpRsWohxdVTfYazK8N9oS30x/2Vrwjo1bRP9/x3xC/Ml9W8PY4L4dgYTzCwJ2RQbhyO597yyw1IOVatpsgiQb4rIoimU8ZmGSXpmTUOkeOMFOxuyVB5SfWktrcHdPmGLB2aVr+vodk/+vDJZyx1SHpk0cB3uz5JSUQ0DHHgH+Bvl+tyaDA4WufAA3SMSL+qrNkLbuKvV0fnmIhRnKivPQbcVhg1RVVhD7ywr8E=
    - secure: HKl6XPg9s0QfA4ZS8u/t1NfenB4WjlB7k5QIgS/8EhUGNT2rPIYR2E3pV5KnrU6BRoYJwlpx+PTKpLYO2zRl2ScrwzXbSaRdbidcNpgw8ieOiA1aLwUObwIO7Jx2468nRNKlvl+On7CpCLTtlJ9ezvswyU1nstnTjpxwbS6uEswiiEG7EGBSBg2dDhSGawbq/W4CXkIrGqTmkuoe0k1F9IAxHA6uhhOpWoRbozNPAZehwNo2fu3uDjTcSls455wbFM019i+WaESDAYNEK62SwhtVjSBLNyVbYU6NujRuGi0+tV5jp/FXwB9Du/tTXJTAGqxPSl0zIPpZ9ObaijxKOWjrGN2RE1ctGUCHUhU+uW/Y1eHydfquCxDoQYlS/IJt3sGdxJJyUrkuPb42nEdDAr7CpDAY1fFdgcsxkCvlr+IeTtvatb1KYPv2GI9bIan9kdRIskJCDnPsUeHmVfP/pkCXKYbBYeD/3yt6ZkAhJ9IcIQ3b3dhUpYVWnKLB4G1lSrEBg6+X6NQOsf0o+dkXN2TaOAV4B3WIm8UG1bxPpJjzDZ8TxvcuEh5SeOcEhXfIhAmD+o2IycQ1aMvqA8rqUPNFfdaP7cyvHM7CCZznv/tvWnsfHnw8cJql2eDtGMVRki1pgbH8C2WLe5xNRsrbrO1OQXgDztROx8eQ+x91Cmg=
    - secure: QezsEPSluLXG7I8TDJ1EtQQn0euVkrvQzT6RcX5xoDYJ+R/tCPg7yWjX1wmsily9+peJtRWgK2ru2QpfrKXNAQPYEOKGJc17dxyS7xUUfwiyZZl18lRTLqW4Ov6XgF4ld8Z/mMzHii/8NwQlfyXiaQeRhNmIKb81m5v9+yC8qhrxugB563xolZt6kRM4E7Fk0tYxHjDMmgknnroSBpMrvr8szjS5u3eHS4XImoOfEIGRQ8yXjxoDqnZEqRmxCejdkHcVVHBbGewfk/UwcOGnA6zfW8DZ4rHx3wmYJiOqXOYCwFJceVEDjU0QIZHKc+GlIcahRtFsKkPmgPhiSnliQnZaRXQW02oafXjcAfImDtyJ107hW+L2IZRlxI2xD5OQmLUR0YJ4WyUvdPJv/s8V4SsvPqahBSy98ztYmgS34lO1/fCdjAL00gX+cFNkBnMCVsAqT/394S4cIMkZtCVmcVii+nnTLyAXJZFyUWeWOHRCfrytEkFJL6rAzbqin/MYFe0Hlrggsyn/cDCcybN0Ni9Y7vVOuZzB+hiFyGQl+oZrhHkz/eYnB4Reg4qjIqhUefIRc5Pm4vsWtX/FguXIbSFdhcmLAgbLlUWJSO9PnU6XgLxy2+wVt8uH9QGK/U2uwoWCiA+pPHuhZiVgq+TDKbMxLjfV3fVYlHOSKSrgZdw=
    - secure: eWHExOkvhJ4MDQ2TcxSY766cYfTh+p+ckfKKvAMjYHSF3KEVYKQViUVRWbbhhr271O+1YeXPC/SwI6+pC3t5jhKM+a7wiozbB6wT6RedGicGnpHU3WedrBd3ND+ufnJRyYEpskP1ujzj/K/A6uZCU9kQUEv9zToE4GHCwzNhxzUjNPWWLNl7uRLAk2jbHbBq7jwjyNiDwf469Vthk6IYrIp9tpFvz2c7czqJGAlHgVsBkHMsP0VkKcRsd2wYBc+Teu98RtWcanCP0/QgOKDOS73XjnOGdSW/Zt+2PNk90eoamAjMHdlgoVDBAVKZyJUOmNCQBtAtGoDacir1aAIvI2cYcml0+oCh1nCAi2+RLhSDiv8eGVJ2+eN9kuqq+32KauL8JzGeHCAoKKHHZ+fv1ZZJYsPdsa+QFvagHsvijzErWb9cv3tC5fMl0zDmAuJ7mpIIBOZNJBOHSq/OAtYlOe1Ataq83lwVn2/Ysxuko0DkLgl+GKW3KTS62zZIg/GEFvTvfDrm5QhoU6GJ1xgrFICx3JHlg2fqcpn/KoZiCG+xDSMswGJ4GB4Eld5S6HZOehnEjahQL1pXWgbKlmlNgyNwfRNL2dOTq+1tXSd1Saxgeeq9JmoboW4YSSUSVVJRS9XQhHyxOgCcrHXyzmRHUhACY4q5wCeVHkj+SbEQ3uQ=
    - secure: YSNIxE+45TE1CiIVBW8Um1hRlc2ihkhZ8IAYYO5D5bOFXkwB6doaEv2koHxc3J4TZgu4VFR/XNMCO4lLJzpOs6KenJ20husymZwZLj+h5WFWDvdeGchQkR24eERSBn8soGnsPyl/T0neNp/fHH4p1AeoHyzszJJVEw3JY50p8wH5y5C/UvaeAUnmY+zAWwUC6Z8LU8hZT3RIA4Hxy9Qq+pZHHCrAfHJOQxGCaC27c0h7DPFs7tnzQNYbe1AKAWIf6z11p7RTfB8DjgT/UuL1L0KX+L8iWyH4hlkqR22ZPFck+qEIe9Ok6ku/upQKvS7JCmr9fjiHdRm7aqVFxDLsWcOoQt0rjllfOolFnBNxn80k6TJS3tS9lLzbf0CCMGUhmyUPhfSBnYPJhEfLvRHzgcga8n2lVBMEkZkUREeUF/OkXjreddiF6Ci5onFanM5Iwg5bDdyClSgqTuQUrpL7SlVBd/XSNNFBLHrdO2+JbGM5XYcK58iD7C9rIYdJfXwva7dEf6zJFGpfHwP9nbj6ponMEWAFtVoc6e//K9zQVDw5zjE1TnAe4a32jUpwtENlWTS1lEjY+VPTLg8SQd//Hp4qYDGPWVn4+855f2xoh5qiFF2soRavFHO4klfDtOb/SI1s6Mad+aOE5AN+IkoOOB/ftTRyc+Bxc8XKG47nvNg=
install: npm ci || (rm -rf node_modules && npm install)
language: node_js
node_js: 12
script:
  - npm test
  - grunt deploy-on-version-updates
